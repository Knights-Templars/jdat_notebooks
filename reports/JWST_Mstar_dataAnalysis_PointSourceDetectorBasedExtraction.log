Traceback (most recent call last):
  File "/usr/share/miniconda/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/usr/share/miniconda/lib/python3.9/asyncio/base_events.py", line 647, in run_until_complete
    return future.result()
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# Execute calwebb_spec2 pipeline. This will overwrite previous reductions.

# All the local calwebb_detector1 files
allshortfiles2 = glob.glob('det_image_*_MIRIFUSHORT_*_rate.fits')
alllongfiles2 = glob.glob('det_image_*_MIRIFULONG_*_rate.fits')

for short2file in allshortfiles2:
    print(short2file)
    pipe2short = Spec2Pipeline()
    base2short, remainder2short = short2file.split('.')
    
    pipe2short.straylight.skip = True
    
    # If you run your own simulations, you will need to update these hardcoded files.
    if (short2file == 'det_image_seq1_MIRIFUSHORT_12LONGexp1125354_rate.fits'):
        print('this one will have the level 2b cube built')
    else:
        pipe2short.cube_build.skip = True
    pipe2short.extract_1d.skip = True
    pipe2short.output_file = base2short
        
    pipe2short.run(short2file)

for long2file in alllongfiles2:
    print(long2file)
    pipe2long = Spec2Pipeline()
    base2long, remainder2long = long2file.split('.')
    
    pipe2long.straylight.skip = True
    # If you run your own simulations, you will need to update these hardcoded files.
    if (long2file == 'det_image_seq1_MIRIFULONG_34SHORTexp1120546_rate.fits'):
        print('this one will have the level 2b cube built')
    else:
        pipe2long.cube_build.skip = True
    pipe2long.extract_1d.skip = True
    pipe2long.output_file = base2long
    
    pipe2long.run(long2file)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mRuntimeError[0m                              Traceback (most recent call last)
Input [0;32mIn [11][0m, in [0;36m<cell line: 7>[0;34m()[0m
[1;32m     19[0m     pipe2short[38;5;241m.[39mextract_1d[38;5;241m.[39mskip [38;5;241m=[39m [38;5;28;01mTrue[39;00m
[1;32m     20[0m     pipe2short[38;5;241m.[39moutput_file [38;5;241m=[39m base2short
[0;32m---> 22[0m     [43mpipe2short[49m[38;5;241;43m.[39;49m[43mrun[49m[43m([49m[43mshort2file[49m[43m)[49m
[1;32m     24[0m [38;5;28;01mfor[39;00m long2file [38;5;129;01min[39;00m alllongfiles2:
[1;32m     25[0m     [38;5;28mprint[39m(long2file)

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/stpipe/step.py:478[0m, in [0;36mStep.run[0;34m(self, *args)[0m
[1;32m    476[0m     [38;5;28mself[39m[38;5;241m.[39mprefetch([38;5;241m*[39margs)
[1;32m    477[0m [38;5;28;01mtry[39;00m:
[0;32m--> 478[0m     step_result [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mprocess[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m)[49m
[1;32m    479[0m [38;5;28;01mexcept[39;00m [38;5;167;01mTypeError[39;00m [38;5;28;01mas[39;00m e:
[1;32m    480[0m     [38;5;28;01mif[39;00m [38;5;124m"[39m[38;5;124mprocess() takes exactly[39m[38;5;124m"[39m [38;5;129;01min[39;00m [38;5;28mstr[39m(e):

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/jwst/pipeline/calwebb_spec2.py:135[0m, in [0;36mSpec2Pipeline.process[0;34m(self, data)[0m
[1;32m    132[0m             results[38;5;241m.[39mappend(result)
[1;32m    134[0m [38;5;28;01mif[39;00m [38;5;28mlen[39m(failures) [38;5;241m>[39m [38;5;241m0[39m [38;5;129;01mand[39;00m [38;5;28mself[39m[38;5;241m.[39mfail_on_exception:
[0;32m--> 135[0m     [38;5;28;01mraise[39;00m [38;5;167;01mRuntimeError[39;00m([38;5;124m'[39m[38;5;130;01m\n[39;00m[38;5;124m'[39m[38;5;241m.[39mjoin(failures))
[1;32m    137[0m [38;5;66;03m# We're done[39;00m
[1;32m    138[0m [38;5;28mself[39m[38;5;241m.[39mlog[38;5;241m.[39minfo([38;5;124m'[39m[38;5;124mEnding calwebb_spec2[39m[38;5;124m'[39m)

[0;31mRuntimeError[0m: Traceback (most recent call last):
  File "/usr/share/miniconda/lib/python3.9/site-packages/jwst/pipeline/calwebb_spec2.py", line 117, in process
    result = self.process_exposure_product(
  File "/usr/share/miniconda/lib/python3.9/site-packages/jwst/pipeline/calwebb_spec2.py", line 307, in process_exposure_product
    x1d = self.extract_1d(resampled)
  File "/usr/share/miniconda/lib/python3.9/site-packages/stpipe/step.py", line 470, in run
    args[0][f"meta.cal_step.{self.class_alias}"] = 'SKIPPED'
  File "/usr/share/miniconda/lib/python3.9/site-packages/jwst/datamodels/container.py", line 145, in __setitem__
    self._models[index] = model
TypeError: list indices must be integers or slices, not str

RuntimeError: Traceback (most recent call last):
  File "/usr/share/miniconda/lib/python3.9/site-packages/jwst/pipeline/calwebb_spec2.py", line 117, in process
    result = self.process_exposure_product(
  File "/usr/share/miniconda/lib/python3.9/site-packages/jwst/pipeline/calwebb_spec2.py", line 307, in process_exposure_product
    x1d = self.extract_1d(resampled)
  File "/usr/share/miniconda/lib/python3.9/site-packages/stpipe/step.py", line 470, in run
    args[0][f"meta.cal_step.{self.class_alias}"] = 'SKIPPED'
  File "/usr/share/miniconda/lib/python3.9/site-packages/jwst/datamodels/container.py", line 145, in __setitem__
    self._models[index] = model
TypeError: list indices must be integers or slices, not str


